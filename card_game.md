# Игра в карты

Автор: Никитин Михаил Тимурович

## Цель
Разработать и реализовать расширяемую, потокобезопасную систему для игры в карты, которая позволяет одновременно играть нескольким пользователям и/или ботам через сеть. Система должна быть построена с минимальной связностью между компонентами и легко расширяемой для новых правил и типов игроков. Игроки играют в Дурака.

## Описание системы
Система представляет собой сервер-клиентную архитектуру, где сервер управляет игровой логикой, а клиенты (игроки и боты) взаимодействуют через сокеты. Основные компоненты:

* **Игровой сервер** — управляет игровыми сессиями, рассылает события игрокам и принимает их действия.
* **Игровая сессия** — отдельная партия с набором игроков/ботов, колодой карт и текущим состоянием игры.
* **Игрок** — интерфейс, реализуемый для человеческого игрока или бота. Должен обрабатывать входящие события и отправлять действия на сервер.
* **Действие игрока (Move/Action)** — объект, содержащий информацию о ходе (например, ход карты, пас, сброс карты).
* **Событие игры** — уведомление игроков о состоянии игры (например, карта сыграна, игрок пропустил ход, партия завершена).

## Функциональные требования
1. **Сетевое взаимодействие**: сервер и клиенты используют сокеты для обмена сообщениями (TCP/UDP).
2. **Асинхронная обработка**: сервер не блокируется при ожидании действий игроков; каждый клиент может обрабатывать события в отдельном потоке.
3. **Слабая связность**: сервер не зависит от конкретной реализации игроков; игроки не знают друг о друге напрямую.
4. **Паттерны проектирования**:
   * **Observer** — уведомление игроков о событиях игры.
   * **Strategy** — выбор стратегии бота.
   * **Command** — действия игроков оформлены как объекты команд.
5. **Расширяемость**:
   * Возможность добавлять новые правила игры без изменения базового сервера.
   * Добавление новых типов ботов/игроков без изменения серверной логики.
6. **Управление ресурсами**: использовать умные указатели для всех динамических объектов и семантику перемещения для больших структур данных (например, колоды карт).

## Требования к тестированию
1. **Юнит-тесты на логику игры**: проверка корректности ходов, подсчета очков, правил розыгрыша карт.
2. **Mock-объекты**: тестирование сервера с фиктивными игроками, чтобы проверить корректное уведомление и обработку команд без реальных сетевых вызовов.
3. **Асинхронность и потокобезопасность**: тесты должны проверять, что сервер может обрабатывать несколько ходов одновременно без гонок данных.

## Покрываемые темы курса
* Паттерны проектирования: Observer, Strategy, Command
* Принципы SOLID и KISS
* Управление памятью: умные указатели, семантика перемещения
* Асинхронность и многопоточность
* Сетевое программирование и обмен данными
* Тестирование с использованием mock-объектов
